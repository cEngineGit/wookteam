webpackJsonp([1,15],{272:function(t,e,a){var o=a(2)(a(275),a(276),!1,function(t){a(273)},"data-v-5457ca2e",null);t.exports=o.exports},273:function(t,e,a){var o=a(274);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(1)("75177e9a",o,!0,{})},274:function(t,e,a){(t.exports=a(0)(!1)).push([t.i,".w-content[data-v-5457ca2e]{position:absolute;top:72px;left:0;right:0;bottom:0;overflow:auto;background-repeat:no-repeat;background-position:50%;background-color:#eee;background-size:cover}.w-content .w-container[data-v-5457ca2e]{min-height:500px}",""])},275:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"WContent",data:function(){return{bgid:-1}},mounted:function(){this.bgid=$A.runNum(this.usrInfo.bgid)},watch:{usrInfo:{handler:function(t){this.bgid=$A.runNum(t.bgid)},deep:!0}},methods:{getBgUrl:function(t,e){return t<0?"none":(t=Math.max(1,parseInt(t)),"url("+window.location.origin+"/images/bg/"+(e?"thumb/":"")+t+".jpg)")}}}},276:function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"w-content",style:"background-image:"+this.getBgUrl(this.bgid)},[this._t("default")],2)},staticRenderFns:[]}},287:function(t,e,a){var o=a(2)(a(292),a(293),!1,function(t){a(288),a(290)},"data-v-7378d4dc",null);t.exports=o.exports},288:function(t,e,a){var o=a(289);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(1)("14a8b902",o,!0,{})},289:function(t,e,a){(t.exports=a(0)(!1)).push([t.i,".teditor-box textarea{opacity:0}.teditor-box .tox-tinymce{-webkit-box-shadow:none;box-shadow:none;-webkit-box-sizing:border-box;box-sizing:border-box;border-color:#dddee1;border-radius:4px;overflow:hidden}.teditor-box .tox-tinymce .tox-statusbar span.tox-statusbar__branding a{display:none}.teditor-transfer{background-color:#fff}.teditor-transfer .tox-toolbar>div:last-child>button:last-child{margin-right:64px}.teditor-transfer .ivu-modal-header{display:none}.teditor-transfer .ivu-modal-close{top:7px;z-index:2}.teditor-transfer .teditor-transfer-body{position:absolute;top:0;left:0;width:100%;height:100%;padding:0;margin:0}.teditor-transfer .teditor-transfer-body textarea{opacity:0}.teditor-transfer .teditor-transfer-body .tox-tinymce{border:0}.teditor-transfer .teditor-transfer-body .tox-tinymce .tox-statusbar span.tox-statusbar__branding a{display:none}.tox.tox-silver-sink{z-index:13000}",""])},290:function(t,e,a){var o=a(291);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(1)("b22b333e",o,!0,{})},291:function(t,e,a){(t.exports=a(0)(!1)).push([t.i,".teditor-loadstyle[data-v-7378d4dc]{width:100%;height:180px;overflow:hidden;position:relative}.teditor-loadedstyle[data-v-7378d4dc]{width:100%;max-height:inherit;overflow:inherit;position:relative}.upload-control[data-v-7378d4dc]{display:none;width:0;height:0;overflow:hidden}",""])},292:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(53),i=a.n(o),n=a(17),s=a.n(n),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default={name:"TEditor",components:{ImgUpload:s.a},props:{id:{type:String,default:function(){return"tinymce_"+Math.round(1e4*Math.random())}},value:{default:""},height:{default:360},htmlClass:{default:"",type:String},plugins:{type:Array,default:function(){return["advlist autolink lists link image charmap print preview hr anchor pagebreak imagetools","searchreplace visualblocks visualchars code","insertdatetime media nonbreaking save table contextmenu directionality","emoticons paste textcolor colorpicker imagetools codesample"]}},toolbar:{type:String,default:" undo redo | styleselect | uploadImages | uploadFiles | bold italic underline forecolor backcolor | alignleft aligncenter alignright | bullist numlist outdent indent | link image emoticons media codesample | preview screenload"},other_options:{type:Object,default:function(){return{}}},readonly:{type:Boolean,default:!1}},data:function(){return{content:"",editor:null,editorT:null,cTinyMce:null,checkerTimeout:null,isTyping:!1,spinShow:!0,transfer:!1,uploadIng:0,uploadFormat:["jpg","jpeg","png","gif","doc","docx","xls","xlsx","ppt","pptx","txt","esp","pdf","rar","zip","gz","ai","avi","bmp","cdr","eps","mov","mp3","mp4","pr","psd","svg","tif"],actionUrl:$A.apiUrl("system/fileupload"),params:{token:$A.getToken()},maxSize:204800}},mounted:function(){this.content=this.value,this.init()},activated:function(){this.content=this.value,this.init()},deactivated:function(){null!==this.editor&&this.editor.destroy(),this.spinShow=!0,$A(this.$refs.myTextarea).show()},watch:{value:function(t){null==t&&(t=""),this.isTyping||(null!==this.getEditor()?this.getEditor().setContent(t):this.content=t)},readonly:function(t){null!==this.editor&&(t?this.editor.setMode("readonly"):this.editor.setMode("design"))}},methods:{init:function(){var t=this;this.$nextTick(function(){i.a.init(t.concatAssciativeArrays(t.options(!1),t.other_options))})},initTransfer:function(){var t=this;this.$nextTick(function(){i.a.init(t.concatAssciativeArrays(t.options(!0),t.other_options))})},options:function(t){var e=this;return{selector:(t?"#T_":"#")+this.id,base_url:$A.serverUrl("js/build"),language:"zh_CN",toolbar:this.toolbar,plugins:this.plugins,save_onsavecallback:function(t){e.$emit("editorSave",t)},paste_data_images:!0,menu:{view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen screenload | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime | uploadImages browseImages | uploadFiles"}},codesample_languages:[{text:"HTML/VUE/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],height:t?"100%":$A.rightExists(this.height,"%")?this.height:$A.runNum(this.height)||360,resize:!t,convert_urls:!1,toolbar_mode:"sliding",toolbar_drawer:"floating",setup:function(a){a.ui.registry.addMenuButton("uploadImages",{text:e.$L("图片"),tooltip:e.$L("上传/浏览 图片"),fetch:function(t){t([{type:"menuitem",text:e.$L("上传图片"),onAction:function(){e.$refs.myUpload.handleClick()}},{type:"menuitem",text:e.$L("浏览图片"),onAction:function(){e.$refs.myUpload.browsePicture()}}])}}),a.ui.registry.addMenuItem("uploadImages",{text:e.$L("上传图片"),onAction:function(){e.$refs.myUpload.handleClick()}}),a.ui.registry.addMenuItem("browseImages",{text:e.$L("浏览图片"),onAction:function(){e.$refs.myUpload.browsePicture()}}),a.ui.registry.addButton("uploadFiles",{text:e.$L("文件"),tooltip:e.$L("上传文件"),onAction:function(){e.handleBeforeUpload()&&e.$refs.fileUpload.handleClick()}}),a.ui.registry.addMenuItem("uploadFiles",{text:e.$L("上传文件"),onAction:function(){e.handleBeforeUpload()&&e.$refs.fileUpload.handleClick()}}),t?(a.ui.registry.addButton("screenload",{icon:"fullscreen",tooltip:e.$L("退出全屏"),onAction:function(){e.closeFull()}}),a.ui.registry.addMenuItem("screenload",{text:e.$L("退出全屏"),onAction:function(){e.closeFull()}}),a.on("Init",function(t){e.editorT=a,e.editorT.setContent(e.content),e.readonly?e.editorT.setMode("readonly"):e.editorT.setMode("design")})):(a.ui.registry.addButton("screenload",{icon:"fullscreen",tooltip:e.$L("全屏"),onAction:function(){e.content=a.getContent(),e.transfer=!0,e.initTransfer()}}),a.ui.registry.addMenuItem("screenload",{text:e.$L("全屏"),onAction:function(){e.content=a.getContent(),e.transfer=!0,e.initTransfer()}}),a.on("Init",function(t){e.spinShow=!1,e.editor=a,e.editor.setContent(e.content),e.readonly?e.editor.setMode("readonly"):e.editor.setMode("design"),e.$emit("editorInit",e.editor)}),a.on("KeyUp",function(t){null!==e.editor&&e.submitNewContent()}),a.on("Change",function(t){null!==e.editor&&(e.getContent()!==e.value&&e.submitNewContent(),e.$emit("editorChange",t))}))}}},closeFull:function(){this.content=this.getContent(),this.$emit("input",this.content),this.transfer=!1,null!=this.editorT&&(this.editorT.destroy(),this.editorT=null)},transferChange:function(t){t||null==this.editorT||(this.content=this.editorT.getContent(),this.$emit("input",this.content),this.editorT.destroy(),this.editorT=null)},getEditor:function(){return this.transfer?this.editorT:this.editor},concatAssciativeArrays:function(t,e){if(0===e.length)return t;if(0===t.length)return e;var a=[];for(var o in t)t.hasOwnProperty(o)&&(a[o]=t[o]);for(var i in e)e.hasOwnProperty(i)&&(a[i]=e[i]);return a},submitNewContent:function(){var t=this;this.isTyping=!0,null!==this.checkerTimeout&&clearTimeout(this.checkerTimeout),this.checkerTimeout=setTimeout(function(){t.isTyping=!1},300),this.$emit("input",this.getContent())},insertContent:function(t){null!==this.getEditor()?this.getEditor().insertContent(t):this.content+=t},getContent:function(){return null===this.getEditor()?"":this.getEditor().getContent()},insertImage:function(t){this.insertContent('<img src="'+t+'">')},editorImage:function(t){for(var e=0;e<t.length;e++){var a=t[e];"object"===(void 0===a?"undefined":r(a))&&"string"==typeof a.url&&this.insertImage(a.url)}},handleProgress:function(){this.uploadIng++},handleSuccess:function(t,e){this.uploadIng--,1===t.ret?this.insertContent('<a href="'+t.data.url+'" target="_blank">'+t.data.name+" ("+$A.bytesToSize(1024*t.data.size)+")</a>"):this.$Modal.warning({title:this.$L("上传失败"),content:this.$L("文件 % 上传失败，%",e.name,t.msg)})},handleError:function(){this.uploadIng--},handleFormatError:function(t){this.$Modal.warning({title:this.$L("文件格式不正确"),content:this.$L("文件 % 格式不正确，仅支持上传：%",t.name,this.uploadFormat.join(","))})},handleMaxSize:function(t){this.$Modal.warning({title:this.$L("超出文件大小限制"),content:this.$L("文件 % 太大，不能超过%。",t.name,$A.bytesToSize(1024*this.maxSize))})},handleBeforeUpload:function(){return this.params={token:$A.getToken()},!0}}}},293:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"teditor-box",class:[t.spinShow?"teditor-loadstyle":"teditor-loadedstyle"]},[a("textarea",{ref:"myTextarea",attrs:{id:t.id}},[t._v(t._s(t.content))]),t._v(" "),t.spinShow?a("Spin",{attrs:{fix:""}},[a("Icon",{staticClass:"upload-control-spin-icon-load",attrs:{type:"ios-loading",size:"18"}}),t._v(" "),a("div",[t._v(t._s(t.$L("加载组件中...")))])],1):t._e(),t._v(" "),a("ImgUpload",{ref:"myUpload",staticClass:"upload-control",attrs:{type:"callback",uploadIng:t.uploadIng,num:"50"},on:{"update:uploadIng":function(e){t.uploadIng=e},"update:upload-ing":function(e){t.uploadIng=e},"on-callback":t.editorImage}}),t._v(" "),a("Upload",{ref:"fileUpload",staticClass:"upload-control",attrs:{name:"files",action:t.actionUrl,data:t.params,multiple:"",format:t.uploadFormat,"show-upload-list":!1,"max-size":t.maxSize,"on-progress":t.handleProgress,"on-success":t.handleSuccess,"on-error":t.handleError,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,"before-upload":t.handleBeforeUpload}})],1),t._v(" "),t.uploadIng>0?a("Spin",{attrs:{fix:""}},[a("Icon",{staticClass:"upload-control-spin-icon-load",attrs:{type:"ios-loading"}}),t._v(" "),a("div",[t._v(t._s(t.$L("正在上传文件...")))])],1):t._e(),t._v(" "),a("Modal",{staticClass:"teditor-transfer",attrs:{"footer-hide":"",fullscreen:"",transfer:""},on:{"on-visible-change":t.transferChange},model:{value:t.transfer,callback:function(e){t.transfer=e},expression:"transfer"}},[a("div",{attrs:{slot:"close"},slot:"close"},[a("Button",{attrs:{type:"primary",size:"small"}},[t._v(t._s(t.$L("完成")))])],1),t._v(" "),a("div",{staticClass:"teditor-transfer-body"},[a("textarea",{attrs:{id:"T_"+t.id}},[t._v(t._s(t.content))])]),t._v(" "),t.uploadIng>0?a("Spin",{attrs:{fix:""}},[a("Icon",{staticClass:"upload-control-spin-icon-load",attrs:{type:"ios-loading"}}),t._v(" "),a("div",[t._v(t._s(t.$L("正在上传文件...")))])],1):t._e()],1)],1)},staticRenderFns:[]}},377:function(t,e){var a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=["January","February","March","April","May","June","July","August","September","October","November","December"],i={getDuration:function(t){var e=new Date(t);e.getMonth();return e.setMonth(e.getMonth()+1),e.setDate(0),e.getDate()},changeDay:function(t,e){var a=new Date(t);return new Date(a.setDate(a.getDate()+e))},getStartDate:function(t){return new Date(t.getFullYear(),t.getMonth(),1)},getEndDate:function(t){var e=new Date(t.getFullYear(),t.getMonth()+1,1,0,0);return new Date(e.setDate(e.getDate()-1))},getDates:function(t){for(var e=t,a=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0).getTime(),o=e.getDay(),i=[],n=0;n<7;n++)i.push(new Date(a+864e5*(n-(o+6)%7)));return i},format:function(t,e,i){i=i||o;var n={M:(t="string"==typeof t?new Date(t.replace(/-/g,"/")):new Date(t)).getMonth()+1,d:t.getDate(),h:t.getHours(),m:t.getMinutes(),s:t.getSeconds(),q:Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};return e=e.replace(/([yMdhmsqS])+/g,function(e,o){var s=n[o];return void 0!==s?"MMMM"===e?i[s-1]:"MMM"===e?a[s-1]:(e.length>1&&(s=(s="0"+s).substr(s.length-2)),s):"y"===o?String(t.getFullYear()).substr(4-e.length):e})}};t.exports=i},378:function(t,e,a){"use strict";var o=a(4),i=a.n(o);e.a=new i.a},403:function(t,e,a){var o=a(404);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(1)("259c488b",o,!0,{})},404:function(t,e,a){(t.exports=a(0)(!1)).push([t.i,".todo-input-enter .ivu-input{border:0;background-color:hsla(0,0%,100%,.9)}",""])},405:function(t,e,a){var o=a(406);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(1)("2d156c95",o,!0,{})},406:function(t,e,a){(t.exports=a(0)(!1)).push([t.i,".todo .todo-main[data-v-0da7031f]{-webkit-box-orient:vertical;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;-ms-flex-pack:center;height:100%;min-height:500px;padding:5px}.todo .todo-main .todo-ul[data-v-0da7031f],.todo .todo-main[data-v-0da7031f]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-direction:normal;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;width:100%}.todo .todo-main .todo-ul[data-v-0da7031f]{-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:horizontal;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;-ms-flex-pack:center}.todo .todo-main .todo-ul .todo-li[data-v-0da7031f]{-webkit-box-flex:1;-ms-flex:1;flex:1;height:100%;position:relative}.todo .todo-main .todo-ul .todo-li .todo-card[data-v-0da7031f]{position:absolute;top:10px;left:10px;right:10px;bottom:10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-head[data-v-0da7031f]{-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 10px;height:38px;border-radius:4px 4px 0 0;color:#fff}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-head .ft.icon[data-v-0da7031f]{-webkit-transform:scale(1);transform:scale(1)}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-head .flag[data-v-0da7031f]{font-weight:700;font-size:14px;margin-right:5px;min-width:16px}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-head .todo-card-title[data-v-0da7031f]{font-weight:700}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-head .todo-input-box[data-v-0da7031f]{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;height:100%;cursor:pointer}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-head .todo-input-box:hover .todo-input-placeholder[data-v-0da7031f]{opacity:1}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-head .todo-input-box.active .todo-input-pbox[data-v-0da7031f]{display:none}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-head .todo-input-box.active .todo-input-ibox[data-v-0da7031f]{display:-webkit-box;display:-ms-flexbox;display:flex}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-head .todo-input-box .todo-input-placeholder[data-v-0da7031f]{color:hsla(0,0%,100%,.6);padding-right:6px;-webkit-transition:all .2s;transition:all .2s;opacity:0}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-head .todo-input-box .todo-input-ibox[data-v-0da7031f],.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-head .todo-input-box .todo-input-pbox[data-v-0da7031f]{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;padding-left:14px;height:100%}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-head .todo-input-box .todo-input-ibox[data-v-0da7031f]{display:none}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-head .todo-input-box .todo-input-close[data-v-0da7031f]{height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:8px}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-head .todo-input-box .todo-input-close i[data-v-0da7031f]{font-size:18px;font-weight:400}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-head.p1[data-v-0da7031f]{background:rgba(248,14,21,.6)}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-head.p2[data-v-0da7031f]{background:rgba(236,196,2,.5)}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-head.p3[data-v-0da7031f]{background:rgba(0,159,227,.7)}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-head.p4[data-v-0da7031f]{background:rgba(121,170,28,.7)}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-content[data-v-0da7031f]{-webkit-box-flex:1;-ms-flex:1;flex:1;background-color:#f5f6f7;border-radius:0 0 4px 4px;overflow:auto;-webkit-transform:translateZ(0);transform:translateZ(0)}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-content .content-ul[data-v-0da7031f]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;min-height:20px}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-content .content-ul .content-li[data-v-0da7031f]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;width:100%;padding:8px;color:#444;border-bottom:1px dotted hsla(0,0%,60%,.25);position:relative;cursor:pointer}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-content .content-ul .content-li.complete[data-v-0da7031f]{color:#999}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-content .content-ul .content-li.complete .task-title[data-v-0da7031f]{text-decoration:line-through}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-content .content-ul .content-li.more[data-v-0da7031f]{color:#666;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-content .content-ul .content-li .task-check[data-v-0da7031f]{font-size:16px;padding-right:6px;padding-top:3px}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-content .content-ul .content-li .task-loading[data-v-0da7031f]{width:15px;height:15px;margin-right:6px;margin-top:3px}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-content .content-ul .content-li .task-overdue[data-v-0da7031f]{color:red;padding-right:2px}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-content .content-ul .content-li .task-title[data-v-0da7031f]{-webkit-box-flex:1;-ms-flex:1;flex:1;word-break:break-all}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-content .content-ul .content-li .task-title[data-v-0da7031f]:hover{color:#000}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-content .content-ul .content-li .task-title .ivu-icon[data-v-0da7031f]{font-size:16px;color:#afafaf;vertical-align:top;padding:2px 6px;-webkit-transform:scale(.98);transform:scale(.98)}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-content .content-ul .content-li .subtask-progress[data-v-0da7031f]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:-1;overflow:hidden;pointer-events:none}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-content .content-ul .content-li .subtask-progress em[data-v-0da7031f]{display:block;height:100%;background-color:rgba(3,150,242,.07)}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-content .content-loading[data-v-0da7031f]{width:100%;height:22px;text-align:center;margin-top:8px;margin-bottom:8px}.todo .todo-main .todo-ul .todo-li .todo-card .todo-card-content .content-empty[data-v-0da7031f]{margin:6px auto;text-align:center;color:#666}@media (max-width:768px){.todo .todo-main[data-v-0da7031f]{height:auto}.todo .todo-main .todo-ul[data-v-0da7031f]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.todo .todo-main .todo-ul .todo-li[data-v-0da7031f]{width:100%}.todo .todo-main .todo-ul .todo-li .todo-card[data-v-0da7031f]{position:static;top:0;right:0;left:0;bottom:0;margin:6px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;min-height:320px;max-height:520px}}",""])},407:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(51),i=a.n(o),n=a(272),s=a.n(n),r=a(408),l=a.n(r),d=a(428),c=a.n(d),u=a(433),f=a.n(u),p=a(30),h=a(438),m=a.n(h),g=a(450),v=a.n(g),b=a(49),x=a.n(b);e.default={components:{WDrawer:x.a,ReportReceive:v.a,ReportMy:m.a,draggable:i.a,TodoAttention:f.a,TodoComplete:c.a,TodoCalendar:l.a,WContent:s.a},mixins:[p.a],data:function(){return{loadIng:0,taskDatas:{1:{lists:[],hasMorePages:!1},2:{lists:[],hasMorePages:!1},3:{lists:[],hasMorePages:!1},4:{lists:[],hasMorePages:!1}},taskSortData:"",taskSortDisabled:!1,todoDrawerShow:!1,todoDrawerTab:"calendar",todoReportDrawerShow:!1,todoReportDrawerTab:"my"}},mounted:function(){var t=this;!1!==$A.getToken()?(this.refreshTask(),$A.setOnTaskInfoListener("pages/todo",function(e,a){if(a.username==t.usrName){switch(e){case"deleteproject":case"deletelabel":return void t.refreshTask();case"addlabel":case"labelsort":case"tasksort":return}var o=function(e){t.taskDatas[e].lists.some(function(o,i){if(o.id==a.id)return t.taskDatas[e].lists.splice(i,1,a),!0})};for(var i in t.taskDatas)o(i);var n=function(e){if(e){for(var o in t.taskDatas)if(o==a.level){var i=t.taskDatas[o].lists.length;t.taskDatas[o].lists.some(function(t,e){if(a.userorder>t.userorder||a.userorder==t.userorder&&a.id>t.id)return i=e,!0}),t.taskDatas[o].lists.splice(i,0,a)}}else{var n=function(e){t.taskDatas[e].lists.some(function(o,i){if(o.id==a.id)return t.taskDatas[e].lists.splice(i,1),!0})};for(var s in t.taskDatas)n(s)}t.taskSortData=t.getTaskSort()};switch(e){case"title":case"desc":case"plannedtime":case"unplannedtime":case"complete":case"unfinished":case"comment":break;case"level":var s=function(e){if(t.taskDatas[e].lists.some(function(o,i){if(o.id==a.id)return t.taskDatas[e].lists.splice(i,1),!0}),e==a.level){var o=t.taskDatas[e].lists.length;t.taskDatas[e].lists.some(function(t,e){if(a.userorder>t.userorder||a.userorder==t.userorder&&a.id>t.id)return o=e,!0}),t.taskDatas[e].lists.splice(o,0,a)}};for(var i in t.taskDatas)s(i);t.taskSortData=t.getTaskSort();break;case"create":case"username":n(a.username==t.usrName);break;case"delete":case"archived":n(!1);break;case"unarchived":n(!0)}}else{var r=function(e){t.taskDatas[e].lists.some(function(o,i){if(o.id==a.id)return t.taskDatas[e].lists.splice(i,1),t.taskSortData=t.getTaskSort(),!0})};for(var i in t.taskDatas)r(i)}},!0)):window.location.replace($A.webUrl())},deactivated:function(){this.todoDrawerShow=!1,this.todoReportDrawerShow=!1},computed:{},watch:{usrName:function(){this.usrLogin&&this.refreshTask()}},methods:{pTitle:function(t){switch(t){case"1":return this.$L("重要且紧急");case"2":return this.$L("重要不紧急");case"3":return this.$L("紧急不重要");case"4":return this.$L("不重要不紧急")}},refreshTask:function(){this.taskDatas={1:{lists:[],hasMorePages:!1},2:{lists:[],hasMorePages:!1},3:{lists:[],hasMorePages:!1},4:{lists:[],hasMorePages:!1}};for(var t=1;t<=4;t++)this.getTaskLists(t.toString())},getTaskLists:function(t,e){var a=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.taskDatas[t],n=1,s=!1;if(!0===e){if(!0!==i.hasMorePages)return;n=Math.max(1,$A.runNum(i.currentPage)),this.taskDatas[t].lists.length>=20*n?n++:s=!0,o=$A.runNum(o)}this.$set(i,"hasMorePages",!1),this.$set(i,"loadIng",$A.runNum(i.loadIng)+1),this.taskSortDisabled=!0,this.loadIng++,$A.apiAjax({url:"project/task/lists",data:{level:t,sorts:{key:"userorder",order:"desc"},page:n,pagesize:20},complete:function(){a.loadIng--,a.taskSortDisabled=!1,a.$set(i,"loadIng",$A.runNum(i.loadIng)-1)},success:function(e){if(1===e.ret){var n=void 0;e.data.lists.forEach(function(t){n=!1,i.lists.some(function(e,a){if(e.id==t.id)return i.lists.splice(a,1,t),n=!0}),n||i.lists.push(t)}),a.taskSortData=a.getTaskSort(),a.$set(i,"currentPage",e.data.currentPage),a.$set(i,"hasMorePages",e.data.hasMorePages),e.data.currentPage&&s&&o<5&&a.getTaskLists(t,!0,o+1)}else a.$set(i,"lists",[]),a.$set(i,"hasMorePages",!1)}})},addTask:function(t){var e=this,a=this.taskDatas[t],o=$A.trim(a.title);if(0!=$A.count(o)){this.$set(a,"focus",!1),this.$set(a,"title","");var i=$A.randomString(16);a.lists.unshift({id:i,title:o,loadIng:!0}),this.taskSortDisabled=!0,$A.apiAjax({url:"project/task/add",data:{title:o,level:t},complete:function(){e.taskSortDisabled=!1},error:function(){a.lists.some(function(t,e){if(t.id==i)return a.lists.splice(e,1),!0}),alert(e.$L("网络繁忙，请稍后再试！"))},success:function(t){1===t.ret?e.$Message.success(t.msg):e.$Modal.error({title:e.$L("温馨提示"),content:t.msg}),a.lists.some(function(e,o){if(e.id==i)return 1===t.ret?a.lists.splice(o,1,t.data):a.lists.splice(o,1),!0}),e.taskSortData=e.getTaskSort()}})}},getTaskSort:function(){var t="",e="";for(var a in this.taskDatas)e="",this.taskDatas[a].lists.forEach(function(t){e&&(e+="-"),e+=t.id}),t&&(t+=";"),t+=a+":"+e;return t},handleTodo:function(t){switch(t){case"calendar":case"complete":case"attention":this.todoDrawerShow=!0,this.todoDrawerTab=t;break;case"report":this.todoReportDrawerShow=!0}},taskSortUpdate:function(){var t=this,e=this.taskSortData,a=this.getTaskSort();e!=a&&(this.taskSortData=a,this.taskSortDisabled=!0,$A.apiAjax({url:"project/sort/todo",data:{oldsort:e,newsort:a},complete:function(){t.taskSortDisabled=!1},error:function(){t.refreshTask(),alert(t.$L("网络繁忙，请稍后再试！"))},success:function(e){1===e.ret?t.$Message.success(e.msg):(t.refreshTask(),t.$Modal.error({title:t.$L("温馨提示"),content:e.msg}))}}))},subtaskProgress:function(t){var e=t.subtask,a=t.complete;if(0===e.length)return a?100:0;var o=e.filter(function(t){return"complete"==t.status});return parseFloat((o.length/e.length*100).toFixed(2))},openTaskModal:function(t){this.taskDetail(t)}}}},408:function(t,e,a){var o=a(2)(a(411),a(427),!1,function(t){a(409)},"data-v-14a8befa",null);t.exports=o.exports},409:function(t,e,a){var o=a(410);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(1)("766e7b8b",o,!0,{})},410:function(t,e,a){(t.exports=a(0)(!1)).push([t.i,"",""])},411:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(7),i=a.n(o),n=a(412),s=a.n(n);e.default={name:"TodoCalendar",components:{FullCalendar:s.a,DrawerTabsContainer:i.a},props:{},data:function(){return{loadIng:0,lang:"en",lists:[],startdate:"",enddate:""}},created:function(){this.lang=this.getLanguage()||"en"},mounted:function(){var t=this;$A.setOnTaskInfoListener("components/project/todo/calendar",function(e,a){if(a.username==t.usrName)switch(a=t.formatTaskData(a),t.lists.some(function(e,o){if(e.id==a.id)return t.lists.splice(o,1,a),!0}),e){case"username":case"delete":case"archived":t.lists.some(function(e,o){if(e.id==a.id)return t.lists.splice(o,1),!0});break;case"unarchived":var o=!1;t.lists.some(function(t){if(t.id==a.id)return o=!0}),o||t.lists.unshift(a)}else t.lists.some(function(e,o){if(e.id==a.id)return t.lists.splice(o,1),!0})})},methods:{clickEvent:function(t){this.taskDetail(t.id)},changeDateRange:function(t,e){this.startdate=t,this.enddate=e,this.getLists(1)},getLists:function(t){var e=this;this.lists=[],this.loadIng++,$A.apiAjax({url:"project/task/lists",data:{startdate:this.startdate,enddate:this.enddate,page:t,pagesize:100},complete:function(){e.loadIng--},success:function(t){if(1===t.ret){var a=void 0,o=void 0;t.data.lists.forEach(function(t){o=e.formatTaskData(t),a=!1,e.lists.some(function(t,i){if(t.id==o.id)return e.lists.splice(i,1,o),a=!0}),a||e.lists.push(o)}),!0===t.data.hasMorePages&&e.getLists(t.data.currentPage+1)}}})},formatTaskData:function(t){var e=t.title,a=t.startdate||t.indate,o=t.enddate||t.indate;if(a!=o){var i=$A.formatDate("Y-m-d",a),n=$A.formatDate("Y-m-d",o),s=i+"~"+n;i==n?s=$A.formatDate("H:i",a)+"~"+$A.formatDate("H:i",o):i.substring(0,4)==n.substring(0,4)&&(s=$A.formatDate("m-d",a)+"~"+$A.formatDate("m-d",o)),e=s+" "+e}else e=$A.formatDate("H:i",a)+" "+e;t.complete&&(e='<span style="text-decoration:line-through">'+e+"</span>");var r="#2d8cf0";1===t.level?r="#ed4014":2===t.level?r="#f90":3===t.level?r="#2db7f5":4===t.level&&(r="#19be6b");var l={id:t.id,start:$A.formatDate("Y-m-d H:i:s",a),end:$A.formatDate("Y-m-d H:i:s",o),title:e,color:"#ffffff",backgroundColor:r,selectedColor:r,name:t.nickname||t.username};return this.isShowImg(t.userimg)&&(l.avatar=t.userimg),l},isShowImg:function(t){return!(!t||$A.rightExists(t,"images/other/avatar.png"))}}}},412:function(t,e,a){var o=a(2)(a(415),a(426),!1,function(t){a(413)},null,null);t.exports=o.exports},413:function(t,e,a){var o=a(414);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(1)("03ec8273",o,!0,{})},414:function(t,e,a){(t.exports=a(0)(!1)).push([t.i,".comp-full-calendar{min-width:960px;margin:0 auto}.comp-full-calendar p,.comp-full-calendar ul{margin:0;padding:0;font-size:14px}.comp-full-calendar .cancel{border:0;outline:none;-webkit-box-shadow:unset;box-shadow:unset;background-color:#ececed;color:#8b8f94}.comp-full-calendar .cancel:hover{color:#3e444c;z-index:0}.comp-full-calendar .primary{border:0;outline:none;-webkit-box-shadow:unset;box-shadow:unset;background-color:#2d8cf0;color:#fff}.comp-full-calendar .primary:hover{z-index:0}.comp-full-calendar .btn-group{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.comp-full-calendar .btn-group>div{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:6px;overflow:hidden}.comp-full-calendar .btn-group button{min-width:48px;cursor:pointer;height:28px;padding:0 12px}",""])},415:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={en:{weekNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],titleFormat:"MMMM yyyy"},zh:{weekNames:["周一","周二","周三","周四","周五","周六","周日"],monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],titleFormat:"yyyy年MM月"},fr:{weekNames:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],monthNames:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],titleFormat:"MMMM yyyy"}},i=a(416),n=a.n(i),s=a(421),r=a.n(s);e.default={name:"FullCalendar",components:{"fc-body":n.a,"fc-header":r.a},props:{events:{type:Array,default:[]},lang:{type:String,default:"en"},firstDay:{type:Number|String,validator:function(t){var e=parseInt(t);return e>=0&&e<=6},default:0},titleFormat:{type:String,default:function(){return o[this.lang].titleFormat}},monthNames:{type:Array,default:function(){return o[this.lang].monthNames}},weekNames:{type:Array,default:function(){var t=o[this.lang].weekNames;return t.slice(this.firstDay).concat(t.slice(0,this.firstDay))}},loading:{type:Boolean,default:!1}},data:function(){return{tableType:"week",weekDays:[],currentDate:new Date}},methods:{changeDateRange:function(t,e,a,o,i){this.currentDate=o,this.weekDays=i,this.$emit("change",t,e,a,i)},emitEventClick:function(t,e){this.$emit("eventClick",t,e)},emitDayClick:function(t,e){this.$emit("dayClick",t,e)},emitMoreClick:function(t,e,a){this.$emit("moreClick",t,event,a)},changeType:function(t){this.tableType=t,this.$emit("changeType",t)}}}},416:function(t,e,a){var o=a(2)(a(419),a(420),!1,function(t){a(417)},null,null);t.exports=o.exports},417:function(t,e,a){var o=a(418);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(1)("5b1e3376",o,!0,{})},418:function(t,e,a){(t.exports=a(0)(!1)).push([t.i,".full-calendar-body{background-color:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;margin-top:12px;border-radius:4px;border:1px solid #eee}.full-calendar-body .left-info{width:60px}.full-calendar-body .left-info .time-info{height:100%;position:relative}.full-calendar-body .left-info .time-info:nth-child(2){border-top:1px solid #eff2ff;border-bottom:1px solid #eff2ff}.full-calendar-body .left-info .time-info .center{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:14px;font-size:14px;word-wrap:break-word;letter-spacing:10px}.full-calendar-body .left-info .time-info .top{position:absolute;top:-8px;width:100%;text-align:center}.full-calendar-body .right-body{-webkit-box-flex:1;-ms-flex:1;flex:1;width:100%;position:relative}.full-calendar-body .right-body .weeks{display:-webkit-box;display:-ms-flexbox;display:flex;border-bottom:1px solid #eee}.full-calendar-body .right-body .weeks .week{-webkit-box-flex:1;-ms-flex:1;flex:1;text-align:center;height:40px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;font-weight:400}.full-calendar-body .right-body .dates{position:relative}.full-calendar-body .right-body .dates .dates-events{z-index:1;width:100%}.full-calendar-body .right-body .dates .dates-events .events-week{display:-webkit-box;display:-ms-flexbox;display:flex;min-height:180px}.full-calendar-body .right-body .dates .dates-events .events-week .events-day{text-overflow:ellipsis;-webkit-box-flex:1;-ms-flex:1;flex:1;width:0;height:auto;padding:4px;border-right:1px solid #eff2ff;border-bottom:1px solid #eff2ff;background-color:#fff}.full-calendar-body .right-body .dates .dates-events .events-week .events-day .day-number{text-align:left;padding:4px 5px 4px 4px}.full-calendar-body .right-body .dates .dates-events .events-week .events-day.not-cur-month .day-number{color:#ececed}.full-calendar-body .right-body .dates .dates-events .events-week .events-day.today{background-color:#f9fafb}.full-calendar-body .right-body .dates .dates-events .events-week .events-day:last-child{border-right:0}.full-calendar-body .right-body .dates .dates-events .events-week .events-day .event-box{max-height:280px;overflow:auto}.full-calendar-body .right-body .dates .dates-events .events-week .events-day .event-box .event-item{cursor:pointer;font-size:12px;background-color:#c7e6fd;margin-bottom:4px;color:rgba(0,0,0,.87);padding:6px 0 6px 4px;height:auto;line-height:30px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;position:relative;border-radius:4px}.full-calendar-body .right-body .dates .dates-events .events-week .events-day .event-box .event-item.is-end{display:none}.full-calendar-body .right-body .dates .dates-events .events-week .events-day .event-box .event-item.is-start{display:block}.full-calendar-body .right-body .dates .dates-events .events-week .events-day .event-box .event-item.is-opacity{display:none}.full-calendar-body .right-body .dates .dates-events .events-week .events-day .event-box .event-item .avatar{width:18px;height:18px;border:0;border-radius:50%;overflow:hidden;display:inline-block}.full-calendar-body .right-body .dates .dates-events .events-week .events-day .event-box .event-item .icon{width:18px;height:18px;line-height:18px;border-radius:10px;text-align:center;color:#fff;display:inline-block;overflow:hidden}.full-calendar-body .right-body .dates .dates-events .events-week .events-day .event-box .event-item .info{width:calc(100% - 30px);display:inline-block;margin-left:5px;line-height:18px;word-break:break-all;word-wrap:break-word;font-size:12px}.full-calendar-body .right-body .dates .dates-events .events-week .events-day .event-box .event-item #card{cursor:auto;position:absolute;z-index:999;min-width:250px;height:auto;left:50%;top:calc(100% + 10px);-webkit-transform:translate(-50%);transform:translate(-50%);min-height:100px;background:#fff;-webkit-box-shadow:0 2px 10px 0 rgba(0,0,0,.1);box-shadow:0 2px 10px 0 rgba(0,0,0,.1);border-radius:4px;overflow:hidden}.full-calendar-body .right-body .dates .dates-events .events-week .events-day .event-box .event-item #card.left-card{left:0;-webkit-transform:translate(0);transform:translate(0)}.full-calendar-body .right-body .dates .dates-events .events-week .events-day .event-box .event-item #card.right-card{right:0;left:auto;-webkit-transform:translate(0);transform:translate(0)}.full-calendar-body .right-body .dates .dates-events .events-week .events-day .event-box .event-item #card.bottom-card{top:auto;bottom:calc(100% + 10px)}.full-calendar-body .right-body .dates .dates-events .events-week .events-day .event-box .more-link{cursor:pointer;padding-left:8px;padding-right:2px;color:rgba(0,0,0,.38);font-size:12px}.full-calendar-body .right-body .dates .dates-events .events-week:last-child .events-day{border-bottom:0}.full-calendar-body .right-body .dates .more-events{position:absolute;width:150px;z-index:2;border:1px solid #eee;-webkit-box-shadow:0 2px 6px rgba(0,0,0,.15);box-shadow:0 2px 6px rgba(0,0,0,.15)}.full-calendar-body .right-body .dates .more-events .more-header{background-color:#eee;padding:5px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:14px}.full-calendar-body .right-body .dates .more-events .more-header .title{-webkit-box-flex:1;-ms-flex:1;flex:1}.full-calendar-body .right-body .dates .more-events .more-header .close{margin-right:2px;cursor:pointer;font-size:16px}.full-calendar-body .right-body .dates .more-events .more-body{height:125px;overflow:hidden;background:#fff}.full-calendar-body .right-body .dates .more-events .more-body .body-list{height:120px;padding:5px;overflow:auto;background-color:#fff}.full-calendar-body .right-body .dates .more-events .more-body .body-list .body-item{cursor:pointer;font-size:12px;background-color:#c7e6fd;margin-bottom:2px;color:rgba(0,0,0,.87);padding:0 0 0 4px;height:18px;line-height:18px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.full-calendar-body .right-body .time{position:relative}.full-calendar-body .right-body .time .row{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;min-height:180px}.full-calendar-body .right-body .time .row .events-day{border-bottom:1px solid #eff2ff;border-left:1px solid #eff2ff;background-color:#fff;height:auto;text-overflow:ellipsis;-webkit-box-flex:1;-ms-flex:1;flex:1;width:0;padding:4px}.full-calendar-body .right-body .time .row .events-day .event-box{max-height:280px;overflow:auto}.full-calendar-body .right-body .time .row .events-day.today{background-color:#f9fafb}.full-calendar-body .right-body .time .row .event-item{cursor:pointer;font-size:12px;background-color:#c7e6fd;margin-bottom:4px;color:rgba(0,0,0,.87);padding:6px 0 6px 4px;height:auto;line-height:30px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;position:relative;border-radius:4px}.full-calendar-body .right-body .time .row .event-item .avatar{width:18px;height:18px;border:0;border-radius:50%;overflow:hidden;display:inline-block}.full-calendar-body .right-body .time .row .event-item .icon{width:18px;height:18px;line-height:18px;border-radius:10px;text-align:center;color:#fff;display:inline-block;padding:0 2px;overflow:hidden}.full-calendar-body .right-body .time .row .event-item .info{width:calc(100% - 30px);display:inline-block;margin-left:5px;line-height:18px;word-break:break-all;word-wrap:break-word;font-size:12px}.full-calendar-body .right-body .time .row .event-item #card{cursor:auto;position:absolute;z-index:999;min-width:250px;height:auto;left:50%;top:calc(100% + 10px);-webkit-transform:translate(-50%);transform:translate(-50%);min-height:100px;background:#fff;-webkit-box-shadow:0 2px 10px 0 rgba(0,0,0,.1);box-shadow:0 2px 10px 0 rgba(0,0,0,.1);border-radius:4px;overflow:hidden}.full-calendar-body .right-body .time .row .event-item #card.left-card{left:0;-webkit-transform:translate(0);transform:translate(0)}.full-calendar-body .right-body .time .row .event-item #card.right-card{right:0;left:auto;-webkit-transform:translate(0);transform:translate(0)}.full-calendar-body .right-body .time .row .event-item #card.bottom-card{top:auto;bottom:calc(100% + 10px)}.full-calendar-body .right-body .time .row:last-child .events-day,.full-calendar-body .right-body .time .row:last-child .single{border-bottom:0}",""])},419:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(377),i=a.n(o),n=a(378);e.default={props:{currentDate:{},events:{type:Array},weekNames:{type:Array,default:[]},monthNames:{},firstDay:{},tableType:"",weekDays:{type:Array,default:function(){return i.a.getDates(new Date)}},isLimit:{type:Boolean,default:!1},loading:{type:Boolean,default:!0}},created:function(){var t=this;document.addEventListener("click",function(e){t.showCard=-1}),n.a.$on("changeWeekDays",function(t){}),this.initLanguage()},data:function(){return{weekMask:[1,2,3,4,5,6,7],eventLimit:18,showMore:!1,morePos:{top:0,left:0},selectDay:{},timeDivide:[],showCard:-1,cardLeft:0,cardRight:0}},watch:{currentDate:function(){this.getCalendar()}},computed:{currentDates:function(){return this.getCalendar()},weekDate:function(){return this.getWeekDate()}},methods:{initLanguage:function(){this.timeDivide=[{start:0,end:12,label:this.$L("上午")},{start:12,end:18,label:this.$L("下午")},{start:18,end:23,label:this.$L("晚上")}]},isBegin:function(t,e,a){var o=new Date(t.start);return 0==a||o.toDateString()==e.toDateString()?t.title:"　"},moreTitle:function(t){var e=new Date(t);return this.weekNames[e.getDay()]+", "+this.monthNames[e.getMonth()]+e.getDate()},classNames:function(t){return t?"string"==typeof t?t:Array.isArray(t)?t.join(" "):"":""},getCalendar:function(){var t=new Date,e=new Date(this.currentDate),a=i.a.getStartDate(e),o=a.getDay(),n=parseInt(this.firstDay)-o+1;n=n>0?n-7:n,a.setDate(a.getDate()+n);for(var s=[],r=0;r<6;r++){for(var l=[],d=0;d<7;d++)l.push({monthDay:a.getDate(),isToday:t.toDateString()==a.toDateString(),isCurMonth:a.getMonth()==e.getMonth(),weekDay:d,date:new Date(a),events:this.slotEvents(new Date(a))}),a.setDate(a.getDate()+1);s.push(l)}return s},slotEvents:function(t){var e=[];return this.events.filter(function(a){var o=new Date(a.start);t.toLocaleDateString()===o.toLocaleDateString()&&e.push(a)}),this.judgeTime(e),e},getWeekDate:function(){var t=this,e=this.weekDays;return e.forEach(function(e,a){e.showDate=i.a.format(e,"MM-dd"),e.date=i.a.format(e,"yyyy-MM-dd"),e.isToday=(new Date).toDateString()==e.toDateString(),e.events=t.slotTimeEvents(e)}),e},slotTimeEvents:function(t){var e=this.events;return e.filter(function(e){var a=new Date(e.start);return t.toLocaleDateString()==a.toLocaleDateString()}),this.judgeTime(e),e},judgeTime:function(t){var e=this;t.forEach(function(t){var a=new Date(t.start),o=a.getHours(),i=a.getDay();0==i&&(i=7),e.timeDivide[0].start<o<e.timeDivide[0].end?t.time=0:e.timeDivide[1].start<o<e.timeDivide[1].end?t.time=1:e.timeDivide[2].start<o<e.timeDivide[2].end&&(t.time=2),t.weekDay=e.weekNames[Number(i)-1],t.weekDayIndex=i})},isTheday:function(t,e){return new Date(t).toDateString()===new Date(e).toDateString()},isStart:function(t,e){return new Date(t).toDateString()==e.toDateString()},isEnd:function(t,e){return new Date(t).toDateString()==e.toDateString()},isInTime:function(t,e){var a=new Date(e).getHours();return t.start<=a&&a<t.end},selectThisDay:function(t,e){this.selectDay=t,this.showMore=!0,this.morePos=this.computePos(event.target),this.morePos.top-=100;var a=t.events.filter(function(t){return 1==t.isShow});this.$emit("moreclick",t.date,a,e)},computePos:function(t){var e=t.getBoundingClientRect(),a=this.$refs.dates.getBoundingClientRect();return{left:e.left-a.left,top:e.top+e.height-a.top}},dayClick:function(t,e){},eventClick:function(t,e){this.showCard=t.id,e.stopPropagation(),this.$emit("eventclick",t,e);var a=e.x,o=e.y;a>400&&a<window.innerWidth-200?this.cardClass="center-card":this.cardClass=a<=400?"left-card":"right-card",o>window.innerHeight-300&&(this.cardClass+=" bottom-card")},isEmojiPrefix:function(t){return/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t)},iconStyle:function(t){var e={backgroundColor:"#A0D7F1"};if(t){for(var a="",o=0;o<t.length;o++)a+=parseInt(t[o].charCodeAt(0),10).toString(16);e.backgroundColor="#"+a.slice(1,4)}return e}}}},420:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"full-calendar-body"},[a("div",{staticClass:"right-body"},[a("div",{staticClass:"weeks"},["week"==t.tableType?a("div",{staticClass:"blank",staticStyle:{width:"60px"}}):t._e(),t._v(" "),t._l(t.weekNames,function(e,o){return a("strong",{staticClass:"week"},[t._v("\n                "+t._s(e)+"\n                "),"week"==t.tableType&&t.weekDate.length?a("span",[t._v("("+t._s(t.weekDate[o].showDate)+")")]):t._e()])})],2),t._v(" "),"month"==t.tableType?a("div",{ref:"dates",staticClass:"dates"},[t.loading?a("Spin",{attrs:{fix:""}}):t._e(),t._v(" "),a("div",{staticClass:"dates-events"},t._l(t.currentDates,function(e){return e[0].isCurMonth||e[e.length-1].isCurMonth?a("div",{staticClass:"events-week"},t._l(e,function(e){return a("div",{staticClass:"events-day",class:{today:e.isToday,"not-cur-month":!e.isCurMonth},attrs:{"track-by":"$index"}},[a("p",{staticClass:"day-number"},[t._v(t._s(e.monthDay))]),t._v(" "),e.events.length?a("div",{staticClass:"event-box"},t._l(e.events,function(o){return a("div",{staticClass:"event-item",class:{selected:t.showCard==o.id},style:{color:o.color||"#333333","background-color":t.showCard==o.id?o.selectedColor||"#C7E6FD":o.backgroundColor||"#C7E6FD"},on:{click:function(e){return t.eventClick(o,e)}}},[o.avatar?a("img",{staticClass:"avatar",attrs:{src:o.avatar},on:{error:function(e){t.$set(o,"avatar",null)}}}):a("span",{staticClass:"icon",style:t.iconStyle(o.name)},[t._v(t._s(o.name))]),t._v(" "),a("p",{staticClass:"info",domProps:{innerHTML:t._s(t.isBegin(o,e.date,e.weekDay))}}),t._v(" "),t.$slots["body-card"]&&o&&t.showCard==o.id?a("div",{class:t.cardClass,attrs:{id:"card"},on:{click:function(t){t.stopPropagation()}}},[t._t("body-card")],2):t._e()])}),0):t._e()])}),0):t._e()}),0)],1):"week"==t.tableType?a("div",{ref:"time",staticClass:"time"},[t.loading?a("Spin",{attrs:{fix:""}}):t._e(),t._v(" "),t._l(t.timeDivide,function(e,o){return a("div",{staticClass:"row"},["week"==t.tableType?a("div",{staticClass:"left-info"},[0==o?a("div",{staticClass:"time-info first"},[a("span",{staticClass:"center"},[t._v(t._s(t.$L("上午")))])]):t._e(),t._v(" "),1==o?a("div",{staticClass:"time-info"},[a("span",{staticClass:"top"},[t._v("12:00")]),t._v(" "),a("span",{staticClass:"center"},[t._v(t._s(t.$L("下午")))])]):t._e(),t._v(" "),2==o?a("div",{staticClass:"time-info"},[a("span",{staticClass:"top"},[t._v("18:00")]),t._v(" "),a("span",{staticClass:"center"},[t._v(t._s(t.$L("晚上")))])]):t._e()]):t._e(),t._v(" "),t._l(t.weekDate,function(o){return t.weekDate.length?a("div",{staticClass:"events-day",class:{today:o.isToday}},[o.events.length?a("div",{staticClass:"event-box"},t._l(o.events,function(i){return t.isTheday(o.date,i.start)&&t.isInTime(e,i.start)?a("div",{staticClass:"event-item",class:{selected:t.showCard==i.id},style:{color:i.color||"#333333","background-color":t.showCard==i.id?i.selectedColor||"#C7E6FD":i.backgroundColor||"#C7E6FD"},on:{click:function(e){return t.eventClick(i,e)}}},[i.avatar?a("img",{staticClass:"avatar",attrs:{src:i.avatar},on:{error:function(e){t.$set(i,"avatar",null)}}}):a("span",{staticClass:"icon",style:t.iconStyle(i.name)},[t._v(t._s(i.name))]),t._v(" "),a("p",{staticClass:"info",domProps:{innerHTML:t._s(i.title)}}),t._v(" "),t.$slots["body-card"]&&i&&t.showCard==i.id?a("div",{class:t.cardClass,attrs:{id:"card"},on:{click:function(t){t.stopPropagation()}}},[t._t("body-card")],2):t._e()]):t._e()}),0):t._e()]):t._e()})],2)})],2):t._e()])])},staticRenderFns:[]}},421:function(t,e,a){var o=a(2)(a(424),a(425),!1,function(t){a(422)},null,null);t.exports=o.exports},422:function(t,e,a){var o=a(423);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(1)("a32d1442",o,!0,{})},423:function(t,e,a){(t.exports=a(0)(!1)).push([t.i,".full-calendar-header{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.full-calendar-header .header-left,.full-calendar-header .header-right{-webkit-box-flex:1;-ms-flex:1;flex:1}.full-calendar-header .header-center{-webkit-box-flex:3;-ms-flex:3;flex:3;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-weight:700}.full-calendar-header .header-center .title{margin:0 5px;width:150px}.full-calendar-header .header-center .next-month,.full-calendar-header .header-center .prev-month{cursor:pointer;padding:10px 15px}",""])},424:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(377),i=a.n(o),n=a(378);e.default={created:function(){this.dispatchEvent(this.tableType)},props:{currentDate:{},titleFormat:{},firstDay:{},monthNames:{},tableType:""},data:function(){return{title:"",leftArrow:"<",rightArrow:">",headDate:new Date}},watch:{currentDate:function(t){t&&(this.headDate=t)},tableType:function(t){this.dispatchEvent(this.tableType)}},methods:{goPrev:function(){this.headDate=this.changeDateRange(this.headDate,-1),this.dispatchEvent(this.tableType)},goNext:function(){this.headDate=this.changeDateRange(this.headDate,1),this.dispatchEvent(this.tableType)},changeDateRange:function(t,e){var a=new Date(t);return"month"==this.tableType?new Date(a.setMonth(a.getMonth()+e)):new Date(a.valueOf()+7*e*24*60*60*1e3)},dispatchEvent:function(t){if("month"==t){this.title=i.a.format(this.headDate,this.titleFormat,this.monthNames);var e=i.a.getStartDate(this.headDate),a=e.getDay(),o=parseInt(this.firstDay)-a;o&&(o-=7),e.setDate(e.getDate()+o);var s=i.a.changeDay(e,41),r=i.a.getStartDate(this.headDate);this.$emit("change",i.a.format(e,"yyyy-MM-dd"),i.a.format(s,"yyyy-MM-dd"),i.a.format(r,"yyyy-MM-dd"),this.headDate)}else if("week"==t){var l=i.a.getDates(this.headDate);this.title=i.a.format(l[0],"MM-dd")+"  至  "+i.a.format(l[6],"MM-dd"),this.$emit("change",i.a.format(l[0],"yyyy-MM-dd"),i.a.format(l[6],"yyyy-MM-dd"),i.a.format(l[0],"yyyy-MM-dd"),this.headDate,l),n.a.$emit("changeWeekDays",l)}}}}},425:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"full-calendar-header"},[a("div",{staticClass:"header-left"},[t._t("header-left")],2),t._v(" "),a("div",{staticClass:"header-center"},[a("span",{staticClass:"prev-month",on:{click:function(e){return e.stopPropagation(),t.goPrev(e)}}},[t._v(t._s(t.leftArrow))]),t._v(" "),a("span",{staticClass:"title"},[t._v(t._s(t.title))]),t._v(" "),a("span",{staticClass:"next-month",on:{click:function(e){return e.stopPropagation(),t.goNext(e)}}},[t._v(t._s(t.rightArrow))])]),t._v(" "),a("div",{staticClass:"header-right"},[t._t("header-right")],2)])},staticRenderFns:[]}},426:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comp-full-calendar"},[a("fc-header",{attrs:{"current-date":t.currentDate,"title-format":t.titleFormat,"first-day":t.firstDay,"month-names":t.monthNames,tableType:t.tableType},on:{change:t.changeDateRange}},[a("div",{attrs:{slot:"header-left"},slot:"header-left"},[t._t("fc-header-left")],2),t._v(" "),a("div",{staticClass:"btn-group",attrs:{slot:"header-right"},slot:"header-right"},[a("div",[a("button",{class:{cancel:"month"==t.tableType,primary:"week"==t.tableType},on:{click:function(e){return t.changeType("week")}}},[t._v("周")]),t._v(" "),a("button",{class:{cancel:"week"==t.tableType,primary:"month"==t.tableType},on:{click:function(e){return t.changeType("month")}}},[t._v("月")])])])]),t._v(" "),a("fc-body",{ref:"fcbody",attrs:{"current-date":t.currentDate,events:t.events,"month-names":t.monthNames,tableType:t.tableType,loading:t.loading,"week-names":t.weekNames,"first-day":t.firstDay,weekDays:t.weekDays},on:{eventclick:t.emitEventClick,dayclick:t.emitDayClick,moreclick:t.emitMoreClick}},[a("template",{slot:"body-card"},[t._t("fc-body-card")],2)],2)],1)},staticRenderFns:[]}},427:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("drawer-tabs-container",[e("div",{staticClass:"todo-calendar"},[e("FullCalendar",{attrs:{events:this.lists,loading:this.loadIng>0,lang:this.lang},on:{eventClick:this.clickEvent,change:this.changeDateRange}})],1)])},staticRenderFns:[]}},428:function(t,e,a){var o=a(2)(a(431),a(432),!1,function(t){a(429)},"data-v-368d0b55",null);t.exports=o.exports},429:function(t,e,a){var o=a(430);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(1)("1449e68a",o,!0,{})},430:function(t,e,a){(t.exports=a(0)(!1)).push([t.i,".project-todo-complete .tableFill[data-v-368d0b55]{margin:12px 12px 20px}",""])},431:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(7),i=a.n(o),n=a(30);e.default={name:"TodoComplete",components:{DrawerTabsContainer:i.a},props:{canload:{type:Boolean,default:!0}},mixins:[n.a],data:function(){return{loadYet:!1,loadIng:0,columns:[],lists:[],listPage:1,listTotal:0,noDataText:""}},mounted:function(){var t=this;this.canload&&(this.loadYet=!0,this.getLists(!0)),$A.setOnTaskInfoListener("components/project/todo/complete",function(e,a){if(a.username==t.usrName)switch(t.lists.some(function(e,o){if(e.id==a.id)return t.lists.splice(o,1,a),!0}),e){case"username":case"delete":case"archived":t.lists.some(function(e,o){if(e.id==a.id)return t.lists.splice(o,1),!0});break;case"unarchived":var o=!1;t.lists.some(function(t){if(t.id==a.id)return o=!0}),o||t.lists.unshift(a)}else t.lists.some(function(e,o){if(e.id==a.id)return t.lists.splice(o,1),!0})})},watch:{canload:function(t){t&&!this.loadYet&&(this.loadYet=!0,this.getLists(!0))}},methods:{initLanguage:function(){var t=this;this.noDataText=this.$L("数据加载中....."),this.columns=[{title:this.$L("任务名称"),key:"title",minWidth:120,render:function(e,a){return t.renderTaskTitle(e,a)}},{title:this.$L("创建人"),key:"createuser",minWidth:80,render:function(t,e){return t("UserView",{props:{username:e.row.createuser}})}},{title:this.$L("负责人"),key:"username",minWidth:80,render:function(t,e){return t("UserView",{props:{username:e.row.username}})}},{title:this.$L("完成时间"),width:160,render:function(t,e){return t("span",$A.formatDate("Y-m-d H:i:s",e.row.completedate))}}]},setPage:function(t){this.listPage=t,this.getLists()},setPageSize:function(t){Math.max($A.runNum(this.listPageSize),10)!=t&&(this.listPageSize=t,this.getLists())},getLists:function(t){var e=this;!0===t&&(this.listPage=1),this.loadIng++,this.noDataText=this.$L("数据加载中....."),$A.apiAjax({url:"project/task/lists",data:{type:"已完成",page:Math.max(this.listPage,1),pagesize:Math.max($A.runNum(this.listPageSize),10)},complete:function(){e.loadIng--},error:function(){e.noDataText=e.$L("数据加载失败！")},success:function(t){1===t.ret?(e.lists=t.data.lists,e.listTotal=t.data.total,e.noDataText=e.$L("没有相关的数据")):(e.lists=[],e.listTotal=0,e.noDataText=t.msg)}})}}}},432:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("drawer-tabs-container",[a("div",{staticClass:"project-todo-complete"},[a("Table",{ref:"tableRef",staticClass:"tableFill",attrs:{columns:t.columns,data:t.lists,loading:t.loadIng>0,"no-data-text":t.noDataText,stripe:""}}),t._v(" "),a("Page",{staticClass:"pageBox",attrs:{total:t.listTotal,current:t.listPage,disabled:t.loadIng>0,"page-size-opts":[10,20,30,50,100],placement:"top","show-elevator":"","show-sizer":"","show-total":"",transfer:"",simple:t.windowMax768},on:{"on-change":t.setPage,"on-page-size-change":t.setPageSize}})],1)])},staticRenderFns:[]}},433:function(t,e,a){var o=a(2)(a(436),a(437),!1,function(t){a(434)},"data-v-82d056ba",null);t.exports=o.exports},434:function(t,e,a){var o=a(435);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(1)("470f1919",o,!0,{})},435:function(t,e,a){(t.exports=a(0)(!1)).push([t.i,".project-todo-attention .tableFill[data-v-82d056ba]{margin:12px 12px 20px}",""])},436:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(7),i=a.n(o),n=a(30);e.default={name:"TodoAttention",components:{DrawerTabsContainer:i.a},props:{canload:{type:Boolean,default:!0}},mixins:[n.a],data:function(){return{loadYet:!1,loadIng:0,columns:[],lists:[],listPage:1,listTotal:0,noDataText:""}},mounted:function(){var t=this;this.canload&&(this.loadYet=!0,this.getLists(!0)),$A.setOnTaskInfoListener("components/project/todo/attention",function(e,a){if(-1!==a.follower.indexOf(t.usrName))switch(t.lists.some(function(e,o){if(e.id==a.id)return t.lists.splice(o,1,a),!0}),e){case"unattention":case"delete":t.lists.some(function(e,o){if(e.id==a.id)return t.lists.splice(o,1),!0});break;case"attention":var o=t.usrName;if(0==a.follower.filter(function(t){return t==o}).length)return;var i=!1;t.lists.some(function(t){if(t.id==a.id)return i=!0}),i||t.lists.unshift(a)}else t.lists.some(function(e,o){if(e.id==a.id)return t.lists.splice(o,1),!0})})},watch:{canload:function(t){t&&!this.loadYet&&(this.loadYet=!0,this.getLists(!0))}},methods:{initLanguage:function(){var t=this;this.noDataText=this.$L("数据加载中....."),this.columns=[{title:this.$L("任务名称"),key:"title",minWidth:120,render:function(e,a){return t.renderTaskTitle(e,a)}},{title:this.$L("创建人"),key:"createuser",minWidth:80,render:function(t,e){return t("UserView",{props:{username:e.row.createuser}})}},{title:this.$L("负责人"),key:"username",minWidth:80,render:function(t,e){return t("UserView",{props:{username:e.row.username}})}},{title:this.$L("完成"),minWidth:70,align:"center",render:function(t,e){return t("span",e.row.complete?"√":"-")}},{title:this.$L("归档"),minWidth:70,align:"center",render:function(t,e){return t("span",e.row.archived?"√":"-")}},{title:this.$L("关注时间"),width:160,render:function(t,e){return t("span",$A.formatDate("Y-m-d H:i:s",e.row.attentiondate))}}]},setPage:function(t){this.listPage=t,this.getLists()},setPageSize:function(t){Math.max($A.runNum(this.listPageSize),10)!=t&&(this.listPageSize=t,this.getLists())},getLists:function(t){var e=this;!0===t&&(this.listPage=1),this.loadIng++,this.noDataText=this.$L("数据加载中....."),$A.apiAjax({url:"project/task/lists",data:{attention:1,archived:"全部",page:Math.max(this.listPage,1),pagesize:Math.max($A.runNum(this.listPageSize),10)},complete:function(){e.loadIng--},error:function(){e.noDataText=e.$L("数据加载失败！")},success:function(t){1===t.ret?(e.lists=t.data.lists,e.listTotal=t.data.total,e.noDataText=e.$L("没有相关的数据")):(e.lists=[],e.listTotal=0,e.noDataText=t.msg)}})}}}},437:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("drawer-tabs-container",[a("div",{staticClass:"project-todo-attention"},[a("Table",{ref:"tableRef",staticClass:"tableFill",attrs:{columns:t.columns,data:t.lists,loading:t.loadIng>0,"no-data-text":t.noDataText,stripe:""}}),t._v(" "),a("Page",{staticClass:"pageBox",attrs:{total:t.listTotal,current:t.listPage,disabled:t.loadIng>0,"page-size-opts":[10,20,30,50,100],placement:"top","show-elevator":"","show-sizer":"","show-total":"",transfer:"",simple:t.windowMax768},on:{"on-change":t.setPage,"on-page-size-change":t.setPageSize}})],1)])},staticRenderFns:[]}},438:function(t,e,a){var o=a(2)(a(441),a(449),!1,function(t){a(439)},"data-v-32b642b3",null);t.exports=o.exports},439:function(t,e,a){var o=a(440);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(1)("7f02dc39",o,!0,{})},440:function(t,e,a){(t.exports=a(0)(!1)).push([t.i,".report-my[data-v-32b642b3]{padding:0 12px}.report-my .tableFill[data-v-32b642b3]{margin:12px 0 20px}",""])},441:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(7),i=a.n(o),n=a(442),s=a.n(n),r=a(49),l=a.n(r);e.default={name:"ReportMy",components:{WDrawer:l.a,ReportAdd:s.a,DrawerTabsContainer:i.a},props:{canload:{type:Boolean,default:!0}},data:function(){return{keys:{},sorts:{key:"",order:""},loadYet:!1,loadIng:0,columns:[],lists:[],listPage:1,listTotal:0,noDataText:"",addDrawerId:0,addDrawerShow:!1}},mounted:function(){this.canload&&(this.loadYet=!0,this.getLists(!0))},watch:{canload:function(t){t&&!this.loadYet&&(this.loadYet=!0,this.getLists(!0))}},methods:{initLanguage:function(){var t=this;this.noDataText=this.$L("数据加载中....."),this.contentText=this.$L("内容加载中....."),this.columns=[{title:this.$L("标题"),key:"title",minWidth:120},{title:this.$L("类型"),key:"type",minWidth:80,maxWidth:120,align:"center"},{title:this.$L("状态"),key:"status",minWidth:80,maxWidth:120,align:"center"},{title:this.$L("创建日期"),minWidth:160,maxWidth:200,align:"center",sortable:!0,render:function(t,e){return t("span",$A.formatDate("Y-m-d H:i:s",e.row.indate))}},{title:" ",key:"action",align:"right",width:120,render:function(e,a){if(!a.row.id)return null;var o=[e("Tooltip",{props:{content:t.$L("查看"),transfer:!0,delay:600},style:{position:"relative"}},[e("Icon",{props:{type:"md-eye",size:16},style:{margin:"0 3px",cursor:"pointer"},on:{click:function(){t.reportDetail(a.row.id,a.row.title)}}})]),e("Tooltip",{props:{content:t.$L("编辑"),transfer:!0,delay:600}},[e("Icon",{props:{type:"md-create",size:16},style:{margin:"0 3px",cursor:"pointer"},on:{click:function(){t.addDrawerId=a.row.id,t.addDrawerShow=!0}}})])];return"已发送"!==a.row.status&&(o.push(e("Tooltip",{props:{content:t.$L("发送"),transfer:!0,delay:600}},[e("Icon",{props:{type:"md-send",size:16},style:{margin:"0 3px",cursor:"pointer"},on:{click:function(){t.sendReport(a.row)}}})])),o.push(e("Tooltip",{props:{content:t.$L("删除"),transfer:!0,delay:600}},[e("Icon",{props:{type:"md-trash",size:16},style:{margin:"0 3px",cursor:"pointer"},on:{click:function(){t.deleteReport(a.row)}}})]))),e("div",o)}}]},sreachTab:function(t){!0===t&&(this.keys={}),this.getLists(!0)},sortChange:function(t){this.sorts={key:t.key,order:t.order},this.getLists(!0)},setPage:function(t){this.listPage=t,this.getLists()},setPageSize:function(t){Math.max($A.runNum(this.listPageSize),10)!=t&&(this.listPageSize=t,this.getLists())},getLists:function(t){var e=this;!0===t&&(this.listPage=1);var a=$A.date2string($A.cloneData(this.keys));a.page=Math.max(this.listPage,1),a.pagesize=Math.max($A.runNum(this.listPageSize),10),a.sorts=$A.cloneData(this.sorts),this.loadIng++,this.noDataText=this.$L("数据加载中....."),$A.apiAjax({url:"report/my",data:a,complete:function(){e.loadIng--},error:function(){e.noDataText=e.$L("数据加载失败！")},success:function(t){1===t.ret?(e.lists=t.data.lists,e.listTotal=t.data.total,e.noDataText=e.$L("没有相关的数据")):(e.lists=[],e.listTotal=0,e.noDataText=t.msg)}})},addDrawerSuccess:function(){this.addDrawerShow=!1,this.getLists(!0)},sendReport:function(t){var e=this;this.$Modal.confirm({title:this.$L("发送汇报"),content:this.$L("你确定要发送汇报吗？"),loading:!0,onOk:function(){$A.apiAjax({url:"report/template",method:"post",data:{act:"send",id:t.id,type:t.type},error:function(){e.$Modal.remove(),alert(e.$L("网络繁忙，请稍后再试！"))},success:function(a){e.$Modal.remove(),e.$set(t,"status","已发送"),setTimeout(function(){1===a.ret?e.$Message.success(a.msg):e.$Modal.error({title:e.$L("温馨提示"),content:a.msg})},350);var o={type:"report",username:e.usrInfo.username,userimg:e.usrInfo.userimg,indate:Math.round((new Date).getTime()/1e3),text:a.data.ccuserAgain?e.$L("修改了工作报告"):e.$L("发送了工作报告"),other:{id:a.data.id,type:a.data.type,title:a.data.title}};a.data.ccuserArray.forEach(function(t){t!=o.username&&$A.WSOB.sendTo("user",t,o,"special")})}})}})},deleteReport:function(t){var e=this;this.$Modal.confirm({title:this.$L("删除汇报"),content:this.$L("你确定要删除汇报吗？"),loading:!0,onOk:function(){$A.apiAjax({url:"report/template",method:"post",data:{act:"delete",id:t.id,type:t.type},error:function(){e.$Modal.remove(),alert(e.$L("网络繁忙，请稍后再试！"))},success:function(a){e.$Modal.remove(),e.lists.some(function(a,o){if(a.id==t.id)return e.lists.splice(o,1),!0}),setTimeout(function(){1===a.ret?e.$Message.success(a.msg):e.$Modal.error({title:e.$L("温馨提示"),content:a.msg})},350)}})}})}}}},442:function(t,e,a){var o=a(2)(a(447),a(448),!1,function(t){a(443),a(445)},"data-v-41bd01b6",null);t.exports=o.exports},443:function(t,e,a){var o=a(444);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(1)("168fa618",o,!0,{})},444:function(t,e,a){(t.exports=a(0)(!1)).push([t.i,".report-add .add-edit .teditor-loadedstyle{height:100%}",""])},445:function(t,e,a){var o=a(446);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(1)("7e84f044",o,!0,{})},446:function(t,e,a){(t.exports=a(0)(!1)).push([t.i,".report-add[data-v-41bd01b6]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:100%;padding:0 24px}.report-add .add-header[data-v-41bd01b6]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:22px;margin-bottom:14px}.report-add .add-header .add-title[data-v-41bd01b6]{-webkit-box-flex:1;-ms-flex:1;flex:1;padding-right:36px}.report-add .add-edit[data-v-41bd01b6]{width:100%;-webkit-box-flex:1;-ms-flex:1;flex:1}.report-add .add-footer[data-v-41bd01b6],.report-add .add-input[data-v-41bd01b6]{margin-top:14px}.report-add .add-prev-btn[data-v-41bd01b6]{cursor:pointer;opacity:.9;margin-top:8px;text-decoration:underline}.report-add .add-prev-btn[data-v-41bd01b6]:hover{opacity:1;color:#2d8cf0}",""])},447:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(7),i=a.n(o),n=a(287),s=a.n(n);e.default={name:"ReportAdd",components:{TEditor:s.a,DrawerTabsContainer:i.a},props:{id:{default:0},canload:{type:Boolean,default:!0}},data:function(){return{loadYet:!1,loadIng:0,dataDetail:{title:"",content:"",ccuser:"",status:""},type:"日报"}},mounted:function(){this.canload&&(this.loadYet=!0,this.getData())},watch:{canload:function(t){t&&!this.loadYet&&(this.loadYet=!0,this.getData())},type:function(){this.loadYet&&this.getData()},id:function(){this.loadYet&&(this.dataDetail={},this.getData())}},methods:{initLanguage:function(){this.dataDetail.content=this.$L("数据加载中.....")},getData:function(){var t=this;this.loadIng++,$A.apiAjax({url:"report/template",method:"post",data:{id:this.id,type:this.type},complete:function(){t.loadIng--},success:function(e){1===e.ret&&(t.dataDetail=e.data)}})},getPrevCc:function(){var t=this;this.loadIng++,$A.apiAjax({url:"report/prevcc",complete:function(){t.loadIng--},success:function(e){1===e.ret?t.dataDetail.ccuser=e.data.lists.join(","):t.$Modal.error({title:t.$L("温馨提示"),content:e.msg})}})},handleSubmit:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.loadIng++,$A.apiAjax({url:"report/template",method:"post",data:Object.assign(this.dataDetail,{act:"submit",id:this.id,type:this.type,send:!0===e?1:0}),complete:function(){t.loadIng--},error:function(){alert(t.$L("网络繁忙，请稍后再试！"))},success:function(e){if(1===e.ret){if(t.dataDetail=e.data,t.$Message.success(e.msg),t.$emit("on-success",e.data),"已发送"===t.dataDetail.status){var a={type:"report",username:t.usrInfo.username,userimg:t.usrInfo.userimg,indate:Math.round((new Date).getTime()/1e3),text:t.dataDetail.ccuserAgain?t.$L("修改了工作报告"):t.$L("发送了工作报告"),other:{id:t.dataDetail.id,type:t.dataDetail.type,title:t.dataDetail.title}};t.dataDetail.ccuserArray.forEach(function(t){t!=a.username&&$A.WSOB.sendTo("user",t,a,"special")})}}else t.$Modal.error({title:t.$L("温馨提示"),content:e.msg})}})}}}},448:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("drawer-tabs-container",[a("div",{staticClass:"report-add"},[a("div",{staticClass:"add-header"},[a("div",{staticClass:"add-title"},[a("Input",{attrs:{placeholder:t.$L("汇报标题")},model:{value:t.dataDetail.title,callback:function(e){t.$set(t.dataDetail,"title",e)},expression:"dataDetail.title"}})],1),t._v(" "),a("ButtonGroup",[a("Button",{attrs:{disabled:t.id>0,type:"日报"==t.type?"primary":"default"},on:{click:function(e){t.type="日报"}}},[t._v(t._s(t.$L("日报")))]),t._v(" "),a("Button",{attrs:{disabled:t.id>0,type:"周报"==t.type?"primary":"default"},on:{click:function(e){t.type="周报"}}},[t._v(t._s(t.$L("周报")))])],1)],1),t._v(" "),a("t-editor",{staticClass:"add-edit",attrs:{height:"100%"},model:{value:t.dataDetail.content,callback:function(e){t.$set(t.dataDetail,"content",e)},expression:"dataDetail.content"}}),t._v(" "),a("div",{staticClass:"add-input"},[a("UserInput",{attrs:{nousername:t.usrName,placeholder:t.$L("输入关键词搜索"),multiple:""},model:{value:t.dataDetail.ccuser,callback:function(e){t.$set(t.dataDetail,"ccuser",e)},expression:"dataDetail.ccuser"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v(t._s(t.$L("抄送人")))])]),t._v(" "),a("div",{staticClass:"add-prev-btn",on:{click:t.getPrevCc}},[t._v(t._s(t.$L("使用我上次抄送的人")))])],1),t._v(" "),a("div",{staticClass:"add-footer"},[a("Button",{staticStyle:{"margin-right":"6px"},attrs:{loading:t.loadIng>0,type:"primary"},on:{click:t.handleSubmit}},[t._v(t._s(t.$L("保存")))]),t._v(" "),"已发送"==t.dataDetail.status?a("Button",{attrs:{loading:t.loadIng>0,type:"success",icon:"md-checkmark-circle-outline",ghost:""},on:{click:function(e){return t.handleSubmit(!0)}}},[t._v(t._s(t.$L("已发送")))]):a("Button",{attrs:{loading:t.loadIng>0},on:{click:function(e){return t.handleSubmit(!0)}}},[t._v(t._s(t.$L("保存并发送")))])],1)],1)])},staticRenderFns:[]}},449:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("drawer-tabs-container",[a("div",{staticClass:"report-my"},[a("Row",{staticClass:"sreachBox"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-2"},[a("sreachTitle",{attrs:{val:t.keys.type}},[t._v(t._s(t.$L("类型")))]),t._v(" "),a("Select",{attrs:{placeholder:t.$L("全部")},model:{value:t.keys.type,callback:function(e){t.$set(t.keys,"type",e)},expression:"keys.type"}},[a("Option",{attrs:{value:""}},[t._v(t._s(t.$L("全部")))]),t._v(" "),a("Option",{attrs:{value:"日报"}},[t._v(t._s(t.$L("日报")))]),t._v(" "),a("Option",{attrs:{value:"周报"}},[t._v(t._s(t.$L("周报")))])],1)],1),t._v(" "),a("div",{staticClass:"item-2"},[a("sreachTitle",{attrs:{val:t.keys.indate}},[t._v(t._s(t.$L("日期")))]),t._v(" "),a("Date-picker",{attrs:{type:"daterange",placement:"bottom",placeholder:t.$L("日期范围")},model:{value:t.keys.indate,callback:function(e){t.$set(t.keys,"indate",e)},expression:"keys.indate"}})],1)]),t._v(" "),a("div",{staticClass:"item item-button"},[""!=t.$A.objImplode(t.keys)?a("Button",{attrs:{type:"text"},on:{click:function(e){return t.sreachTab(!0)}}},[t._v(t._s(t.$L("取消筛选")))]):t._e(),t._v(" "),a("Button",{attrs:{type:"primary",icon:"md-search",loading:t.loadIng>0},on:{click:t.sreachTab}},[t._v(t._s(t.$L("搜索")))])],1)]),t._v(" "),a("Row",{staticClass:"butBox",staticStyle:{float:"left","margin-top":"-32px"}},[a("Button",{attrs:{loading:t.loadIng>0,type:"primary",icon:"md-add"},on:{click:function(e){t.addDrawerId=0,t.addDrawerShow=!0}}},[t._v(t._s(t.$L("新建汇报")))])],1),t._v(" "),a("Table",{ref:"tableRef",staticClass:"tableFill",attrs:{columns:t.columns,data:t.lists,loading:t.loadIng>0,"no-data-text":t.noDataText,stripe:""}}),t._v(" "),a("Page",{staticClass:"pageBox",attrs:{total:t.listTotal,current:t.listPage,disabled:t.loadIng>0,"page-size-opts":[10,20,30,50,100],placement:"top","show-elevator":"","show-sizer":"","show-total":"",transfer:"",simple:t.windowMax768},on:{"on-change":t.setPage,"on-page-size-change":t.setPageSize}})],1),t._v(" "),a("WDrawer",{attrs:{maxWidth:"900"},model:{value:t.addDrawerShow,callback:function(e){t.addDrawerShow=e},expression:"addDrawerShow"}},[a("report-add",{attrs:{canload:t.addDrawerShow,id:t.addDrawerId},on:{"on-success":t.addDrawerSuccess}})],1)],1)},staticRenderFns:[]}},450:function(t,e,a){var o=a(2)(a(453),a(454),!1,function(t){a(451)},"data-v-99f5315e",null);t.exports=o.exports},451:function(t,e,a){var o=a(452);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(1)("4ea2bcf0",o,!0,{})},452:function(t,e,a){(t.exports=a(0)(!1)).push([t.i,".report-receive[data-v-99f5315e]{margin:0 12px}.report-receive .tableFill[data-v-99f5315e]{margin:12px 0 20px}",""])},453:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(7),i=a.n(o);e.default={name:"ReportReceive",components:{DrawerTabsContainer:i.a},props:{canload:{type:Boolean,default:!0},labelLists:{type:Array}},data:function(){return{keys:{},sorts:{key:"",order:""},loadYet:!1,loadIng:0,columns:[],lists:[],listPage:1,listTotal:0,noDataText:""}},mounted:function(){this.canload&&(this.loadYet=!0,this.getLists(!0))},watch:{canload:function(t){t&&!this.loadYet&&(this.loadYet=!0,this.getLists(!0))}},methods:{initLanguage:function(){var t=this;this.noDataText=this.$L("数据加载中....."),this.contentText=this.$L("内容加载中....."),this.columns=[{title:this.$L("标题"),key:"title",sortable:!0,minWidth:120},{title:this.$L("发送人"),key:"username",sortable:!0,minWidth:80,maxWidth:130,render:function(t,e){return t("UserView",{props:{username:e.row.username}})}},{title:this.$L("类型"),key:"type",minWidth:80,maxWidth:120,align:"center"},{title:this.$L("发送日期"),minWidth:160,maxWidth:200,align:"center",sortable:!0,render:function(t,e){return t("span",e.row.senddate?$A.formatDate("Y-m-d H:i:s",e.row.senddate):"-")}},{title:" ",key:"action",width:70,align:"center",render:function(e,a){return e("div",[e("Tooltip",{props:{content:t.$L("查看"),transfer:!0,delay:600},style:{position:"relative"}},[e("Icon",{props:{type:"md-eye",size:16},style:{margin:"0 3px",cursor:"pointer"},on:{click:function(){t.reportDetail(a.row.id,a.row.title)}}})])])}}]},sreachTab:function(t){!0===t&&(this.keys={}),this.getLists(!0)},sortChange:function(t){this.sorts={key:t.key,order:t.order},this.getLists(!0)},setPage:function(t){this.listPage=t,this.getLists()},setPageSize:function(t){Math.max($A.runNum(this.listPageSize),10)!=t&&(this.listPageSize=t,this.getLists())},getLists:function(t){var e=this;!0===t&&(this.listPage=1);var a=$A.date2string($A.cloneData(this.keys));a.page=Math.max(this.listPage,1),a.pagesize=Math.max($A.runNum(this.listPageSize),10),a.sorts=$A.cloneData(this.sorts),this.loadIng++,this.noDataText=this.$L("数据加载中....."),$A.apiAjax({url:"report/receive",data:a,complete:function(){e.loadIng--},error:function(){e.noDataText=e.$L("数据加载失败！")},success:function(t){1===t.ret?(e.lists=t.data.lists,e.listTotal=t.data.total,e.noDataText=e.$L("没有相关的数据")):(e.lists=[],e.listTotal=0,e.noDataText=t.msg)}})}}}},454:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("drawer-tabs-container",[a("div",{staticClass:"report-receive"},[a("Row",{staticClass:"sreachBox"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-3"},[a("sreachTitle",{attrs:{val:t.keys.username}},[t._v(t._s(t.$L("发送人")))]),t._v(" "),a("Input",{attrs:{placeholder:t.$L("用户名")},model:{value:t.keys.username,callback:function(e){t.$set(t.keys,"username",e)},expression:"keys.username"}})],1),t._v(" "),a("div",{staticClass:"item-3"},[a("sreachTitle",{attrs:{val:t.keys.type}},[t._v(t._s(t.$L("类型")))]),t._v(" "),a("Select",{attrs:{placeholder:t.$L("全部")},model:{value:t.keys.type,callback:function(e){t.$set(t.keys,"type",e)},expression:"keys.type"}},[a("Option",{attrs:{value:""}},[t._v(t._s(t.$L("全部")))]),t._v(" "),a("Option",{attrs:{value:"日报"}},[t._v(t._s(t.$L("日报")))]),t._v(" "),a("Option",{attrs:{value:"周报"}},[t._v(t._s(t.$L("周报")))])],1)],1),t._v(" "),a("div",{staticClass:"item-3"},[a("sreachTitle",{attrs:{val:t.keys.indate}},[t._v(t._s(t.$L("日期")))]),t._v(" "),a("Date-picker",{attrs:{type:"daterange",placement:"bottom",placeholder:t.$L("日期范围")},model:{value:t.keys.indate,callback:function(e){t.$set(t.keys,"indate",e)},expression:"keys.indate"}})],1)]),t._v(" "),a("div",{staticClass:"item item-button"},[""!=t.$A.objImplode(t.keys)?a("Button",{attrs:{type:"text"},on:{click:function(e){return t.sreachTab(!0)}}},[t._v(t._s(t.$L("取消筛选")))]):t._e(),t._v(" "),a("Button",{attrs:{type:"primary",icon:"md-search",loading:t.loadIng>0},on:{click:t.sreachTab}},[t._v(t._s(t.$L("搜索")))])],1)]),t._v(" "),a("Table",{ref:"tableRef",staticClass:"tableFill",attrs:{columns:t.columns,data:t.lists,loading:t.loadIng>0,"no-data-text":t.noDataText,stripe:""},on:{"on-sort-change":t.sortChange}}),t._v(" "),a("Page",{staticClass:"pageBox",attrs:{total:t.listTotal,current:t.listPage,disabled:t.loadIng>0,"page-size-opts":[10,20,30,50,100],placement:"top","show-elevator":"","show-sizer":"","show-total":"",transfer:"",simple:t.windowMax768},on:{"on-change":t.setPage,"on-page-size-change":t.setPageSize}})],1)])},staticRenderFns:[]}},455:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w-main todo"},[a("v-title",[t._v(t._s(t.$L("待办"))+"-"+t._s(t.$L("轻量级的团队在线协作")))]),t._v(" "),a("div",{staticClass:"w-nav"},[a("div",{staticClass:"nav-row"},[a("div",{staticClass:"w-nav-left"},[a("div",{staticClass:"page-nav-left"},[a("span",[a("i",{staticClass:"ft icon"},[t._v("")]),t._v(" "+t._s(t.$L("我的待办")))]),t._v(" "),t.loadIng>0?a("div",{staticClass:"page-nav-loading"},[a("w-loading")],1):a("div",{staticClass:"page-nav-refresh"},[a("em",{on:{click:t.refreshTask}},[t._v(t._s(t.$L("刷新")))])])])]),t._v(" "),a("div",{staticClass:"w-nav-flex"}),t._v(" "),a("div",{staticClass:"w-nav-right m768-show"},[a("Dropdown",{attrs:{trigger:"click",transfer:""},on:{"on-click":t.handleTodo}},[a("Icon",{attrs:{type:"md-menu",size:"18"}}),t._v(" "),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{attrs:{name:"calendar"}},[t._v(t._s(t.$L("待办日程")))]),t._v(" "),a("DropdownItem",{attrs:{name:"complete"}},[t._v(t._s(t.$L("已完成的任务")))]),t._v(" "),a("DropdownItem",{attrs:{name:"attention"}},[t._v(t._s(t.$L("我关注的任务")))]),t._v(" "),a("DropdownItem",{attrs:{name:"report"}},[t._v(t._s(t.$L("周报/日报")))])],1)],1)],1),t._v(" "),a("div",{staticClass:"w-nav-right m768-hide"},[a("span",{staticClass:"ft hover",on:{click:function(e){return t.handleTodo("calendar")}}},[a("i",{staticClass:"ft icon"},[t._v("")]),t._v(" "+t._s(t.$L("待办日程")))]),t._v(" "),a("span",{staticClass:"ft hover",on:{click:function(e){return t.handleTodo("complete")}}},[a("i",{staticClass:"ft icon"},[t._v("")]),t._v(" "+t._s(t.$L("已完成的任务")))]),t._v(" "),a("span",{staticClass:"ft hover",on:{click:function(e){return t.handleTodo("attention")}}},[a("i",{staticClass:"ft icon"},[t._v("")]),t._v(" "+t._s(t.$L("我关注的任务")))]),t._v(" "),a("span",{staticClass:"ft hover",on:{click:function(e){return t.handleTodo("report")}}},[a("i",{staticClass:"ft icon"},[t._v("")]),t._v(" "+t._s(t.$L("周报/日报")))])])])]),t._v(" "),a("w-content",[a("div",{staticClass:"todo-main"},t._l([["1","2"],["3","4"]],function(e){return a("div",{staticClass:"todo-ul"},t._l(e,function(e){return a("div",{staticClass:"todo-li"},[a("div",{staticClass:"todo-card"},[a("div",{staticClass:"todo-card-head",class:["p"+e]},[a("i",{staticClass:"ft icon flag"},[t._v("")]),t._v(" "),a("div",{staticClass:"todo-card-title"},[t._v(t._s(t.pTitle(e)))]),t._v(" "),a("label",{staticClass:"todo-input-box",class:{active:!!t.taskDatas[e].focus},on:{click:function(){t.$set(t.taskDatas[e],"focus",!0)}}},[a("div",{staticClass:"todo-input-ibox",on:{click:function(t){t.stopPropagation()}}},[a("Input",{staticClass:"todo-input-enter",attrs:{placeholder:t.$L("在这里输入事项，回车即可保存")},on:{"on-enter":function(a){return t.addTask(e)}},model:{value:t.taskDatas[e].title,callback:function(a){t.$set(t.taskDatas[e],"title",a)},expression:"taskDatas[index].title"}}),t._v(" "),a("div",{staticClass:"todo-input-close",on:{click:function(){t.$set(t.taskDatas[e],"focus",!1)}}},[a("i",{staticClass:"ft icon"},[t._v("")])])],1),t._v(" "),a("div",{staticClass:"todo-input-pbox"},[a("div",{staticClass:"todo-input-placeholder"},[t._v(t._s(t.$L("点击可快速添加需要处理的事项")))]),t._v(" "),a("div",{staticClass:"todo-input-close"},[a("i",{staticClass:"ft icon"},[t._v("")])])])])]),t._v(" "),a("div",{staticClass:"todo-card-content"},[a("draggable",{staticClass:"content-ul",attrs:{group:"task",draggable:".task-draggable",animation:150,disabled:t.taskSortDisabled||t.windowMax768},on:{sort:t.taskSortUpdate,remove:t.taskSortUpdate},model:{value:t.taskDatas[e].lists,callback:function(a){t.$set(t.taskDatas[e],"lists",a)},expression:"taskDatas[index].lists"}},[t._l(t.taskDatas[e].lists,function(e){return a("div",{key:e.id,staticClass:"content-li task-draggable",class:{complete:e.complete},on:{click:function(a){return t.openTaskModal(e)}}},[a("div",{staticClass:"subtask-progress"},[a("em",{style:{width:t.subtaskProgress(e)+"%"}})]),t._v(" "),e.complete?a("Icon",{staticClass:"task-check",attrs:{type:"md-checkbox-outline"},on:{click:function(a){return a.stopPropagation(),t.taskComplete(e,!1)}}}):a("Icon",{staticClass:"task-check",attrs:{type:"md-square-outline"},on:{click:function(a){return a.stopPropagation(),t.taskComplete(e,!0)}}}),t._v(" "),e.loadIng?a("div",{staticClass:"task-loading"},[a("w-loading")],1):t._e(),t._v(" "),e.overdue?a("div",{staticClass:"task-overdue"},[t._v("["+t._s(t.$L("超期"))+"]")]):t._e(),t._v(" "),a("div",{staticClass:"task-title"},[t._v(t._s(e.title)),e.desc?a("Icon",{attrs:{type:"ios-list-box-outline"}}):t._e()],1)],1)}),t._v(" "),!0===t.taskDatas[e].hasMorePages?a("div",{staticClass:"content-li more",on:{click:function(a){return t.getTaskLists(e,!0)}}},[t._v(t._s(t.$L("加载更多")))]):t._e()],2),t._v(" "),0===t.taskDatas[e].lists.length&&0==t.taskDatas[e].loadIng?a("div",{staticClass:"content-empty"},[t._v(t._s(t.$L("恭喜你！已完成了所有待办")))]):t._e(),t._v(" "),t.taskDatas[e].loadIng>0?a("div",{staticClass:"content-loading"},[a("w-loading")],1):t._e()],1)])])}),0)}),0)]),t._v(" "),a("WDrawer",{attrs:{maxWidth:"1000"},model:{value:t.todoDrawerShow,callback:function(e){t.todoDrawerShow=e},expression:"todoDrawerShow"}},[t.todoDrawerShow?a("Tabs",{model:{value:t.todoDrawerTab,callback:function(e){t.todoDrawerTab=e},expression:"todoDrawerTab"}},[a("TabPane",{attrs:{label:t.$L("待办日程"),name:"calendar"}},[a("todo-calendar",{attrs:{canload:t.todoDrawerShow&&"calendar"==t.todoDrawerTab}})],1),t._v(" "),a("TabPane",{attrs:{label:t.$L("已完成的任务"),name:"complete"}},[a("todo-complete",{attrs:{canload:t.todoDrawerShow&&"complete"==t.todoDrawerTab}})],1),t._v(" "),a("TabPane",{attrs:{label:t.$L("我关注的任务"),name:"attention"}},[a("todo-attention",{attrs:{canload:t.todoDrawerShow&&"attention"==t.todoDrawerTab}})],1)],1):t._e()],1),t._v(" "),a("WDrawer",{attrs:{maxWidth:"1000"},model:{value:t.todoReportDrawerShow,callback:function(e){t.todoReportDrawerShow=e},expression:"todoReportDrawerShow"}},[t.todoReportDrawerShow?a("Tabs",{model:{value:t.todoReportDrawerTab,callback:function(e){t.todoReportDrawerTab=e},expression:"todoReportDrawerTab"}},[a("TabPane",{attrs:{label:t.$L("我的汇报"),name:"my"}},[a("report-my",{attrs:{canload:t.todoReportDrawerShow&&"my"==t.todoReportDrawerTab}})],1),t._v(" "),a("TabPane",{attrs:{label:t.$L("收到的汇报"),name:"receive"}},[a("report-receive",{attrs:{canload:t.todoReportDrawerShow&&"receive"==t.todoReportDrawerTab}})],1)],1):t._e()],1)],1)},staticRenderFns:[]}},643:function(t,e,a){var o=a(2)(a(407),a(455),!1,function(t){a(403),a(405)},"data-v-0da7031f",null);t.exports=o.exports}});